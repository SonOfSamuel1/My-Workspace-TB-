(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9908:function(e,t,r){Promise.resolve().then(r.bind(r,8306))},8306:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(7437),a=r(1713),s=r(7648),i=r(2381),c=r(9820),l=r(9174),d=r(3448),o=r(9205);let u=(0,o.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var m=r(1817),x=r(9322);let f=(0,o.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var h=r(1723),g=r(1671);async function b(){let e=new Date;e.setDate(e.getDate()-30);let t=e.toISOString().split("T")[0],r=await fetch("/api/ynab/budgets/".concat("2a373a3b-bc29-46f0-92ab-008f3b0221a9","/transactions?since_date=").concat(t));if(!r.ok)throw Error("Failed to fetch transactions");let n=(await r.json()).data.transactions;return{uncategorized:n.filter(e=>!e.category_id),unapproved:n.filter(e=>!e.approved&&e.category_id)}}function p(e){let{transaction:t}=e,r=t.amount<0;return(0,n.jsx)(s.default,{href:"/transactions/".concat(t.id),children:(0,n.jsx)(c.Zb,{className:"hover:bg-accent/50 transition-colors cursor-pointer",children:(0,n.jsxs)(c.aY,{className:"flex items-center justify-between p-4",children:[(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"font-medium truncate",children:t.payee_name}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[t.account_name," \xb7 ",(0,d.Km)(t.date)]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("span",{className:"font-semibold ".concat(r?"text-red-600":"text-green-600"),children:(0,d.xG)(t.amount)}),(0,n.jsx)(u,{className:"h-4 w-4 text-muted-foreground"})]})]})})})}function v(){let{data:e,isLoading:t,error:r,refetch:s,isRefetching:d}=(0,a.a)({queryKey:["transactions","overview"],queryFn:b});if(t)return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,n.jsx)(m.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Loading transactions..."})]})});if(r)return(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center p-4",children:(0,n.jsx)(c.Zb,{className:"w-full max-w-md",children:(0,n.jsxs)(c.aY,{className:"flex flex-col items-center gap-4 pt-6",children:[(0,n.jsx)(x.Z,{className:"h-12 w-12 text-destructive"}),(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Error Loading Transactions"}),(0,n.jsx)("p",{className:"text-center text-muted-foreground",children:r instanceof Error?r.message:"An error occurred"}),(0,n.jsx)(i.z,{onClick:()=>s(),children:"Try Again"})]})})});let{uncategorized:o=[],unapproved:u=[]}=e||{};return(0,n.jsx)("div",{className:"min-h-screen bg-muted/30 py-8 px-4",children:(0,n.jsxs)("div",{className:"mx-auto max-w-2xl",children:[(0,n.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"YNAB Transaction Manager"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Review and categorize your transactions"})]}),(0,n.jsx)(i.z,{variant:"outline",size:"icon",onClick:()=>s(),disabled:d,children:(0,n.jsx)(f,{className:"h-4 w-4 ".concat(d?"animate-spin":"")})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[(0,n.jsx)(c.Zb,{children:(0,n.jsxs)(c.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900",children:(0,n.jsx)(x.Z,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-2xl font-bold",children:o.length}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Uncategorized"})]})]})}),(0,n.jsx)(c.Zb,{children:(0,n.jsxs)(c.aY,{className:"flex items-center gap-4 p-4",children:[(0,n.jsx)("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900",children:(0,n.jsx)(h.Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-2xl font-bold",children:u.length}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Need Approval"})]})]})})]}),0===o.length&&0===u.length&&(0,n.jsx)(c.Zb,{children:(0,n.jsxs)(c.aY,{className:"flex flex-col items-center gap-4 py-12",children:[(0,n.jsx)(g.Z,{className:"h-16 w-16 text-green-500"}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"All Caught Up!"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"No transactions need your attention right now."})]})]})}),o.length>0&&(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Uncategorized"}),(0,n.jsx)(l.C,{variant:"warning",children:o.length})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[o.slice(0,10).map(e=>(0,n.jsx)(p,{transaction:e},e.id)),o.length>10&&(0,n.jsxs)("p",{className:"text-center text-sm text-muted-foreground py-2",children:["And ",o.length-10," more..."]})]})]}),u.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Needs Approval"}),(0,n.jsx)(l.C,{variant:"info",children:u.length})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[u.slice(0,10).map(e=>(0,n.jsx)(p,{transaction:e},e.id)),u.length>10&&(0,n.jsxs)("p",{className:"text-center text-sm text-muted-foreground py-2",children:["And ",u.length-10," more..."]})]})]})]})})}},9174:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var n=r(7437);r(2265);var a=r(535),s=r(3448);let i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"border-transparent bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",info:"border-transparent bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...a})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var n=r(7437),a=r(2265),s=r(5293),i=r(535),c=r(3448);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-green-600 text-white hover:bg-green-700",warning:"bg-amber-500 text-white hover:bg-amber-600"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:d=!1,...o}=e,u=d?s.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(l({variant:a,size:i,className:r})),ref:t,...o})});d.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return c},Zb:function(){return i},aY:function(){return d},eW:function(){return o},ll:function(){return l}});var n=r(7437),a=r(2265),s=r(3448);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});c.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});l.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});d.displayName="CardContent";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})});o.displayName="CardFooter"},3448:function(e,t,r){"use strict";r.d(t,{Km:function(){return d},RR:function(){return i},cn:function(){return s},v3:function(){return c},xG:function(){return l}});var n=r(1994),a=r(3335);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function i(e){return e/1e3}function c(e){return Math.round(1e3*e)}function l(e){let t=i(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function d(e){let t=new Date(e),r=Math.floor((new Date().getTime()-t.getTime())/864e5);return 0===r?"Today":1===r?"Yesterday":r<7?"".concat(r," days ago"):function(e){let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(t)}(e)}}},function(e){e.O(0,[763,374,971,117,744],function(){return e(e.s=9908)}),_N_E=e.O()}]);